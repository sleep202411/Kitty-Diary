import{r as g,I as _}from"./index-silKGjXX.js";const H=a=>g.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},a),g.createElement("path",{d:"M119.415 524.046c-9.708-9.693-11.278-24.766-2.72-35.554l20.007-25.223c8.201-10.34 23.543-12.936 34.386-5.699l173.175 115.585c9.134 6.097 24.856 5.303 33.384-1.616l457.6-371.25c10.286-8.345 26.397-7.634 35.412 1.368l11.272 11.255c9.81 9.795 9.096 25.343-1.187 35.611l-491.14 490.414c-15.28 15.258-40.369 14.59-56.099-1.116l-214.09-213.775z",fillRule:"nonzero"})),j=g.forwardRef((a,u)=>g.createElement(_,Object.assign({name:"SvgSuccess"},a,{ref:u}),g.createElement(H,null)));function R(a,u){let r;try{r=a()}catch{return}return{getItem:s=>{var t;const m=d=>d===null?null:JSON.parse(d,void 0),c=(t=r.getItem(s))!=null?t:null;return c instanceof Promise?c.then(m):m(c)},setItem:(s,t)=>r.setItem(s,JSON.stringify(t,void 0)),removeItem:s=>r.removeItem(s)}}const I=a=>u=>{try{const r=a(u);return r instanceof Promise?r:{then(n){return I(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return I(n)(r)}}}},O=(a,u)=>(r,n,s)=>{let t={storage:R(()=>localStorage),partialize:e=>e,version:0,merge:(e,f)=>({...f,...e}),...u},m=!1;const c=new Set,d=new Set;let l=t.storage;if(!l)return a((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${t.name}', the given storage is currently unavailable.`),r(...e)},n,s);const p=()=>{const e=t.partialize({...n()});return l.setItem(t.name,{state:e,version:t.version})},b=s.setState;s.setState=(e,f)=>{b(e,f),p()};const h=a((...e)=>{r(...e),p()},n,s);s.getInitialState=()=>h;let v;const w=()=>{var e,f;if(!l)return;m=!1,c.forEach(o=>{var i;return o((i=n())!=null?i:h)});const S=((f=t.onRehydrateStorage)==null?void 0:f.call(t,(e=n())!=null?e:h))||void 0;return I(l.getItem.bind(l))(t.name).then(o=>{if(o)if(typeof o.version=="number"&&o.version!==t.version){if(t.migrate){const i=t.migrate(o.state,o.version);return i instanceof Promise?i.then(y=>[!0,y]):[!0,i]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,o.state];return[!1,void 0]}).then(o=>{var i;const[y,E]=o;if(v=t.merge(E,(i=n())!=null?i:h),r(v,!0),y)return p()}).then(()=>{S==null||S(v,void 0),v=n(),m=!0,d.forEach(o=>o(v))}).catch(o=>{S==null||S(void 0,o)})};return s.persist={setOptions:e=>{t={...t,...e},e.storage&&(l=e.storage)},clearStorage:()=>{l==null||l.removeItem(t.name)},getOptions:()=>t,rehydrate:()=>w(),hasHydrated:()=>m,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},t.skipHydration||w(),v||h},F=O;export{j as S,F as p};
